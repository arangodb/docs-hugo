
version: 2.1

jobs:
  checkout: #Checkout a desired repository
    docker:
      - image: cimg/base:current
    resource_class: small
    environment:
      GIT_SSH_COMMAND: ssh -v
    steps:
      - run:
          name: Clone arangodb main repo
          command: |
            git clone "$ARANGODB_MAIN_REPO"
      - run:
          name: Clone arangodb old docs repo
          command: |
            git clone "$ARANGODB_OLD_DOCS_REPO"
      - run:
          name: Clone arangodb new docs repo
          command: |
            git clone "$ARANGODB_MAIN_REPO"
      - persist_to_workspace:
          root: .
          paths:
            - .
  
  migration: #Job to execute docs migration
  ###

  plain-build: #Job to execute plain hugo-build with no examples generation
  ###

  complete-build: #Job to execute examples generation + hugo site build
  ###

workflows:
  test:
    jobs:
      - checkout