{{- $page := .page }}
{{- $content := .content }}
{{- with $page }}
    <article class="default">
      <hgroup>
        <h1>{{ .Title | markdownify }}</h1>
        <p>
          {{ .Description }}
        </p>
        </hgroup>
      {{ with $content }}
         {{ . }}
      {{ else }}
          {{- template "generateSection" dict "section" $page }}
      {{ end }}
      <nav class="pagination">
        {{- partial "content-footer.html" . }}
      </nav>
    </article>
{{- end }}

{{- define "generateSection" }}
{{ $section := .section }}

<div class="cards">
  {{ range $section.Pages }}

    {{- partial "shortcodes/card.html" (dict
    "Inner" .Description
    "title" .Title
    "link" .RelPermalink
      ) }}  
  
  {{ end }}
</div>

{{ end }}
